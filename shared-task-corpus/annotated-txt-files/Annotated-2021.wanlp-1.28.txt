title
NADI 2021: The Second Nuanced Arabic Dialect Identification Shared Task
abstract
We present the findings and results of the Second Nuanced Arabic Dialect Identification Shared Task (NADI 2021). This Shared Task <TASK>includes four subtasks: country-level Modern Standard Arabic (MSA) identification (Subtask 1.1), country-level dialect identification (Subtask 1.2), province-level MSA identification (Subtask 2.1), and province-level sub-dialect identification (Subtask 2.2)</TASK>. The shared task dataset covers a total of 100 provinces from 21 Arab countries, collected from the Twitter domain. A total of 53 teams from 23 countries registered to participate in the tasks, thus reflecting the interest of the community in this area. We received 16 submissions for Subtask 1.1 from five teams, 27 submissions for Subtask 1.2 from eight teams, 12 submissions for Subtask 2.1 from four teams, and 13 Submissions for subtask 2.2 from four teams.

Introduction
Arabic is the native tongue of ∼ 400 million people living the Arab world, a vast geographical region across Africa and Asia. Far from a single monolithic language, Arabic has a wide number of varieties. In general, Arabic could be classified into three main categories: (1) Classical Arabic, the language of the Qur'an and early literature; (2) Modern Standard Arabic (MSA), which is usually used in education and formal and pan-Arab media; and (3) dialectal Arabic (DA), a collection of geopolitically defined variants. Modern day Arabic is usually referred to as diglossic with a so-called 'High' variety used in formal settings (MSA), and a 'Low' variety used in everyday communication (DA). DA, the presumably 'Low' variety, is itself a host of variants. For the current work, we focus on geography as an axis of variation where peo- ple from various sub-regions, countries, or even provinces within the same country, may be using Arabic differently.
The Nuanced Arabic Dialect Identification (NADI) series of shared tasks aim at furthering the study and analysis of Arabic variants by providing resources and organizing classification competitions under standardized settings. The First Nuanced Arabic Dialect Identification (NADI 2020) Shared Task targeted 21 Arab countries and a total of 100 provinces across these countries. NADI 2020 consisted of two subtasks: country-level dialect identification (Subtask 1) and province-level detection (Subtask 2). The two subtasks depended on Twitter data, making it the first shared task to target naturally-occurring fine-grained dialectal text at the sub-country level. The Second Nuanced Arabic Dialect Identification (NADI 2021) is similar to NADI 2020 in that it also targets the same 21 Arab countries and 100 corresponding provinces and is based on Twitter data. However, NADI 2021 has four subtasks, organized into country level and province level. For each classification level, we afford both MSA and DA datasets as Table 1 shows. We provided participants with a new Twitter labeled dataset that we collected exclusively for the purpose of the shared task. The dataset is publicly available for research. 1 A total of 53 teams registered for the shard task, of whom 8 unique teams ended up submitting their systems for scoring. We allowed a maximum of five submissions per team. We received 16 submissions for Subtask 1.1 from five teams, 27 submissions for Subtask 1.2 from eight teams, 12 submissions for Subtask 2.1 from four teams, and 13 Submissions for subtask 2.2 from four teams. We then received seven papers, all of which we accepted for publication.
This paper is organized as follows. We provide a brief overview of the computational linguistic literature on Arabic dialects in Section 2. We describe the two subtasks and dataset in Sections 3 and Section 4, respectively. And finally, we introduce participating teams, shared task results, and a high-level description of submitted systems in Section 5.

Related Work
As we explained in Section 1, Arabic has three main categories: CA, MSA, and DA. While CA and MSA have been studied extensively (Harrell, 1962;Cowell, 1964;Badawi, 1973;Brustad, 2000;Holes, 2004), DA has received more attention only in recent years.
One major challenge with studying DA has been rarity of resources. For this reason, most pioneering DA works focused on creating resources, usually for only a small number of regions or countries (Gadalla et al., 1997;Diab et al., 2010;Al-Sabbagh and Girju, 2012;Sadat et al., 2014;Smaïli et al., 2014;Jarrar et al., 2016;Khalifa et al., 2016;Al-Twairesh et al., 2018;El-Haj, 2020). A number of works introducing multi-dialectal data sets and regional level detection models followed (Zaidan and Callison-Burch, 2011;Elfardy et al., 2014;Bouamor et al., 2014;Meftouh et al., 2015).
Arabic dialect identification work as further sparked by a series of shared tasks offered as part of the VarDial workshop. These shared tasks used speech broadcast transcriptions (Malmasi et al., 2016), and integrated acoustic features (Zampieri et al., 2017) and phonetic features (Zampieri et al., 2018) extracted from raw audio. Althobaiti ( 2020) is a recent survey of computational work on Arabic dialects.
The Multi Arabic Dialects Application and Resources (MADAR) project  introduced finer-grained dialectal data and a lexicon. The MADAR data were used for dialect identification at the city level Obeid et al., 2019) of 25 Arab cities. An issue with the MADAR data, in the context of DA identification, is that it was commissioned and not naturally occurring. Several larger datasets covering 10-21 countries were also introduced (Mubarak and Darwish, 2014;Zaghouani and Charfi, 2018). These datasets come from the Twitter domain, and hence are naturally-occurring.
Several works have also focused on sociopragmatics meaning exploiting dialectal data. These include sentiment analysis (Abdul-Mageed et al., 2014), emotion , age and gender (Abbes et al., 2020), offensive language (Mubarak et al., 2020), and sarcasm (Abu Farha and Magdy, 2020). Concurrent with our work, (Abdul-Mageed et al., 2020c) also describe data and models at country, province, and city levels.
The first NADI shared task, NADI 2020 (Abdul-Mageed et al., 2020b), comprised two subtasks, one focusing on 21 Arab countries exploiting Twitter data, and another on 100 Arab provinces from the same 21 countries. As is explained in (Abdul-Mageed et al., 2020b), the NADI 2020 datasets included a small amount of non-Arabic and also a mixture of MSA and DA. For NADI 2021, we continue to focus on 21 countries and 100 provinces. However, we breakdown the data into MSA and DA for a stronger signal. This also gives us the opportunity to study each of these two main categories independently. In other words, in addition to dialect and sub-dialect identification, it allows us to investigate the extent to which MSA itself can be teased apart at the country and province levels. Our hope is that NADI 2021 will support exploring variation in geographical regions that have not been studied before.

Task Description
The NADI shared task consists of four subtasks, comprising two levels of classification-country and province. Each level of classification is carried out for both MSA and DA. We explain the different subtasks across each classification level next.

Country-level Classification
• Subtask 1.1: Country-level MSA. The goal of Subtask 1.1 is to identify country level MSA from short written sentences (tweets). NADI 2021 Subtask 1.1 is novel since no previous works focused on teasing apart MSA by country of origin.
• Subtask 1.2: Country-level DA. Subtask 1.2 is similar to Subtask 1.1, but focuses on identifying country level dialect from tweets. Subtask 1.2 is similar to previous works that have also taken country as their target (Mubarak and Darwish, 2014;Zaghouani and Charfi, 2018;Abdul-Mageed et al., 2020b).
We provided labeled data to NADI 2021 participants with specific training (TRAIN) and development (DEV) splits. Each of the 21 labels corresponding to the 21 countries is represented in both TRAIN and DEV. Teams could score their models through an online system (codalab) on the DEV set before the deadline. We released our TEST set of unlabeled tweets shortly before the system submission deadline. We then invited participants to submit their predictions to the online scoring system housing the gold TEST set labels. Table 2 shows the distribution of the TRAIN, DEV, and TEST splits across the 21 countries.

Province-level Classification
• Subtask 2.1: Province-level MSA. The goal of Subtask 2.1 is to identify the specific state or province (henceforth, province) from which an MSA tweet was posted. There are 100 province labels in the data, and provinces are unequally distributed among the list of 21 countries.
• Subtask 2.2: Province-level DA. Again, Subtask 2.2 is similar to Subtask 2.1, but the goal is identifying the province from which a dialectal tweet was posted.
While the MADAR shared task  involved prediction of a small set of cities, NADI 2020 was the first to propose automatic dialect identification at geographical regions as small as provinces. Concurrent with NADI 2020, (Abdul-Mageed et al., 2020c) introduced the concept of microdialects, and proposed models for identifying language varieties defined at both province and city levels. NADI 2021 follows these works, but has one novel aspect: We introduce province-level identification for MSA and DA independently (i.e., each variety is handled in a separate subtask). While province-level sub-dialect identification may be challenging, we hypothesize province-level MSA might be even more difficult. However, we were curious to what extent, if possible at all, a machine would be successful in teasing apart MSA data at the province-level.
In addition, similar to NADI 2020, we acknowledge that province-level classification is somewhat related to geolocation prediction exploiting Twitter data. However, we emphasize that geolocation prediction is performed at the level of users, rather than tweets. This makes our subtasks different from geolocation work. Another difference lies in the way we collect our data as we will explain in Section 4. Tables 11 and 12 (Appendix A) show the distribution of the 100 province classes in our MSA and DA data splits, respectively. Importantly, for all 4 subtasks, tweets in the TRAIN, DEV and TEST splits come from disjoint sets.

Restrictions and Evaluation Metrics
We follow the same general approach to managing the shared task as our first NADI in 2020. This includes providing participating teams with a set of restrictions that apply to all subtasks, and clear evaluation metrics. The purpose of our restrictions is to ensure fair comparisons and common experimental conditions. In addition, similar to NADI 2020, our data release strategy and our evaluation setup through the CodaLab online platform facilitated the competition management, enhanced timeliness of acquiring results upon system submission, and guaranteed ultimate transparency. 2 Once a team registered in the shared task, we directly provided the registering member with the data via a private download link. We provided the data in the form of the actual tweets posted to the Twitter platform, rather than tweet IDs. This Total 100 21,000 5,000 5,000 31,000 100 21,000 5,000 5,000 31,000 100 . guaranteed comparison between systems exploiting identical data. For all four subtasks, we provided clear instructions requiring participants not to use any external data. That is, teams were required to only use the data we provided to develop their systems and no other datasets regardless how these are acquired. For example, we requested that teams do not search nor depend on any additional userlevel information such as geolocation. To alleviate these strict constraints and encourage creative use of diverse (machine learning) methods in system development, we provided an unlabeled dataset of 10M tweets in the form of tweet IDs. This dataset is in addition to our labeled TRAIN and DEV splits for the four subtasks. To facilitate acquisition of this unlabeled dataset, we also provided a simple script that can be used to collect the tweets. We encouraged participants to use these 10M unlabeled tweets in any way they wished.
For all four subtasks, the official metric is macroaveraged F 1 score obtained on blind test sets. We also report performance in terms of macroaveraged precision, macro-averaged recall and accuracy for systems submitted to each of the four subtasks. Each participating team was allowed to submit up to five runs for each subtask, and only the highest scoring run was kept as representing the team. Although official results are based only on a blind TEST set, we also asked participants to report their results on the DEV set in their papers. We setup four CodaLab competitions for scoring participant systems. 3 We will keep the Codalab competition for each subtask live post competition, for researchers who would be interested in training models and evaluating their systems using the shared task TEST set. For this reason, we will not release labels for the TEST set of any of the subtasks.

Shared Task Datasets
We distributed two Twitter datasets, one in MSA and another in DA. Each tweet in each of these two datasets has two labels, one label for country level and another label for province level. For example, for the MSA dataset, the same tweet is assigned one out of 21 country labels (Subtask 1.1) and one out of 100 province labels (Subtask 2.1). The same applies to DA data, where each tweet is assigned a country label (Subtask 1.2) and a province label (Subtask 2.2). Similar to MSA, the tagset for DA data has 21 country labels and 100 province labels.
In addition, as mentioned before, we made available an unlabeled dataset for optional use in any of the four subtasks. We now provide more details about both the labeled and unlabeled data.

Data Collection
Similar to NADI 2020, we used the Twitter API to crawl data from 100 provinces belonging to 21 Arab countries for 10 months (Jan. to Oct., 2019). 4 Next, we identified users who consistently and exclusively tweeted from a single province during the whole 10 month period. We crawled up to 3,200 tweets from each of these users. We select only tweets assigned the Arabic language tag (ar) by Twitter. We lightly normalize tweets by removing usernames and hyperlinks, and add white space between emojis. Next, we remove retweets (i.e., we keep only tweets and replies). Then, we use character-level string matching to remove sequences that have &lt; 3 Arabic tokens. Since the Twitter language tag can be wrong sometimes, we apply an effective in-house language identification tool on the tweets and replies to exclude any non-Arabic. This helps us remove posts in Farsi (fa) and Persian (ps) which Twitter wrongly assigned an Arabic language tag. Finally, to tease apart MSA from DA, we use the dialect-MSA model introduced in Abdul-Mageed et al. (2020a) (acc= 89.1%, F1= 88.6%).

Data Sets
To assign labels for the different subtasks, we use user location as a proxy for language variety labels at both country and province levels. This applies to both our MSA and DA data. That is, we label tweets from each user with the country and province from which the user consistently posted for the whole of the 10 months period. Although this method of label assignment is not ideal, it is still a reasonable approach for easing the bottleneck of data annotation. For both the MSA and DA data, across the two levels of classification (i.e., country and province), we randomly sample 21K tweets for training (TRAIN), 5K tweets for development (DEV), and 5K tweets for testing (TEST). These three splits come from three disjoint sets of users. We distribute data for the four subtasks directly to participants in the form of actual tweet text. Table 2 shows the distribution of tweets across the data splits over the 21 countries, for all subtasks. We provide the data distribution over the 100 provinces in Appendix A. More specifically, Table 11 shows the province-level distribution of tweets for MSA (Subtask 2.1) and Table 12 shows the same for DA (Subtask 2.2). We provide examples DA tweets from a number of countries representing different regions in Table 3. For each example in Table 3, we list the province it comes from. Similarly, we provide example MSA data in Table 4.
Unlabeled 10M. We shared 10M Arabic tweets with participants in the form of tweet IDs. We crawled these tweets in 2019. Arabic was identified using Twitter language tag (ar). This dataset does not have any labels and we call it UNLABELED 10M. We also included in our data package released to participants a simple script to crawl these tweets. Participants were free to use UNLABELED 10M for any of the four subtasks in any way they they see fits. 5 We now present shared task teams and results.

Shared Task Teams &amp; Results
Our Baseline Systems
We provide two simple baselines, Baseline I and Baseline II, for each of the four subtasks. Baseline I is based on the majority class in the TRAIN data for each subtask. It performs at F 1 = 1.57% and accuracy = 19.78% for Subtask 1.1, F 1 = 1.65% and accuracy = 21.02% for Subtask 1.2, F 1 = 0.02% and accuracy = 1.02% for Subtask 5 Datasets for all the subtasks and UNLABELED 10M are available at https://github.com/UBC-NLP/nadi. More information about the data format can be found in the accompanying README file.  2.1, and F 1 = 0.02% and accuracy = 1.06% for Subtask 2.2.
Baseline II is a fine-tuned multi-lingual BERT-Base model (mBERT) 6 . More specifically, we fine-tune mBERT for 20 epochs with a learning rate of 2e − 5, and batch size of 32. The maximum length of input sequence is set as 64 tokens. We evaluate the model at the end of each epoch and choose the best model on our DEV set. We then report the best model on the TEST set. Our best mBERT model obtains F 1 = 14.15% and accuracy = 24.76% on Subtask 1.1, F 1 = 18.02% and accuracy = 33.04% on Subtask 1.2, F 1 = 3.39% and accuracy = 3.48% on Subtask 2.1, and F 1 = 4.08% and accuracy = 4.18% on 6 https://github.com/google-research/bert Subtask 2.2 as Tables 6, 7, 8, and 9, respectively.

Participating Teams
We received a total of 53 unique team registrations. After evaluation phase, we received a total of 68 submissions. The breakdown across the subtasks is as follows: 16 submissions for Subtask 1.1 from five teams, 27 submissions for Subtask 1.2 from eight teams, 12 submissions for Subtask 2.1 from four teams, and 13 submissions for Subtask 2.2 from four teams. Of participating teams, seven teams submitted description papers, all of which we accepted for publication.   

Shared Task Results
Table 6 presents the best TEST results for all 5 teams who submitted systems for Subtask 1.1. Based on the official metric, macro − F 1 , CairoSquad obtained the best performance with 22.38% F 1 score. Table 7 presents the best TEST results of each of the eight teams who submitted systems to Subtask 1.2. Team CairoSquad achieved the best F 1 score that is 32.26%. Table 8 shows the best TEST results for all four teams who submitted systems for Subtask 2.1. CairoSquad achieved the best performance with 6.43% F 1 score.     mance with 8.60%. 7

General Description of Submitted Systems
In  models, usually with some form of ensembling.

Conclusion and Future Work
We presented the findings and results of the NADI 2021 shared task. We described our datasets across the four subtasks and the logistics of running the shared task. We also provided a panoramic description of the methods used by all participating teams. The results show that distinguishing the language variety of short texts based on small geographical regions of origin is possible, yet challenging. The total number of submissions during official evaluation (n=68 submissions from 8 unique teams), as well as the number of teams who registered and acquired our datasets (n=53 unique teams) reflects a continued interest in the community and calls for further work in this area.
In the future, we plan to host a third iteration of the NADI shared task that will use new datasets and encourage novel solutions to the set of problems introduced in NADI 2021. As results show all the fours subtasks remain very challenging, and we hope that encouraging further solutions will help advance work in this area. 

Appendices A Data
We provide the distribution Distribution of the NADI 2021 MSA data over provinces, by country (Subtask 2.1), across our our data splits in Table 11. Similarly, Table 12 shows the distribution of the DA data over provinces for all countries (Subtask 2.2) in our data splits.

B Shared Task Teams &amp; Results
We provide full results for all four subtasks. Table 13 shows full results for Subtask 1.1, Table 14 for Subtask 1.2,       

